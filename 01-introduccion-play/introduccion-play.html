



<!doctype html>
<html lang="es" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
      
      
        <meta name="lang:clipboard.copy" content="Copiar al portapapeles">
      
        <meta name="lang:clipboard.copied" content="Copiado al portapapeles">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No se encontraron documentos">
      
        <meta name="lang:search.result.one" content="1 documento encontrado">
      
        <meta name="lang:search.result.other" content="# documentos encontrados">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.1.1">
    
    
      
        <title>Enunciado práctica 1 - Prácticas MADS</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/application.3020aac5.css">
      
        <link rel="stylesheet" href="../assets/stylesheets/application-palette.224b79ff.css">
      
      
        
        
        <meta name="theme-color" content="#009688">
      
    
    
      <script src="../assets/javascripts/modernizr.01ccdecf.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Open Sans","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../assets/fonts/material-icons.css">
    
    
    
      
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="teal" data-md-color-accent="teal">
  
    <svg class="md-svg">
      <defs>
        
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#enunciado-practica-1" tabindex="1" class="md-skip">
        Saltar a contenido
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href=".." title="Prácticas MADS" class="md-header-nav__button md-logo">
          
            <img src="../imagenes/logo.png" width="24" height="24">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              Prácticas MADS
            </span>
            <span class="md-header-nav__topic">
              Enunciado práctica 1
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Búsqueda" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Teclee para comenzar búsqueda
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href=".." title="Prácticas MADS" class="md-nav__button md-logo">
      
        <img src="../imagenes/logo.png" width="48" height="48">
      
    </a>
    Prácticas MADS
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-1" type="checkbox" id="nav-1">
    
    <label class="md-nav__link" for="nav-1">
      Práctica 0
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-1">
        Práctica 0
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../01-intro-spring-boot/intro-spring-boot.html" title="Introducción a Sprign Boot para MADS" class="md-nav__link">
      Introducción a Sprign Boot para MADS
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../01-intro-spring-boot/comandos-git.html" title="Comandos Git" class="md-nav__link">
      Comandos Git
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../01-intro-spring-boot/practica0.html" title="Práctica 0" class="md-nav__link">
      Práctica 0
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../01-intro-spring-boot/practica1.html" title="Práctica 1" class="md-nav__link">
      Práctica 1
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../02-pruebas-tdd/integration-tdd.html" title="Práctica 2" class="md-nav__link">
      Práctica 2
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Tabla de contenidos</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-objetivos" title="1. Objetivos" class="md-nav__link">
    1. Objetivos
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#11-aplicacion-inicial" title="1.1. Aplicación inicial" class="md-nav__link">
    1.1. Aplicación inicial
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#12-metodologia-de-desarrollo" title="1.2. Metodología de desarrollo" class="md-nav__link">
    1.2. Metodología de desarrollo
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-entorno-para-realizar-la-practica" title="2. Entorno para realizar la práctica" class="md-nav__link">
    2. Entorno para realizar la práctica
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#docker" title="Docker" class="md-nav__link">
    Docker
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#entorno-de-trabajo" title="Entorno de trabajo" class="md-nav__link">
    Entorno de trabajo
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-antes-de-empezar-la-practica" title="3. Antes de empezar la práctica" class="md-nav__link">
    3. Antes de empezar la práctica
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-desarrollo-de-la-practica" title="4. Desarrollo de la práctica" class="md-nav__link">
    4. Desarrollo de la práctica
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#41-version-100" title="4.1. Versión 1.0.0" class="md-nav__link">
    4.1. Versión 1.0.0
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#42-version-110" title="4.2. Versión 1.1.0" class="md-nav__link">
    4.2. Versión 1.1.0
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5-entrega-y-evaluacion" title="5. Entrega y evaluación" class="md-nav__link">
    5. Entrega y evaluación
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="enunciado-practica-1">Enunciado práctica 1<a class="headerlink" href="#enunciado-practica-1" title="Permanent link">&para;</a></h1>
<h2 id="1-objetivos">1. Objetivos<a class="headerlink" href="#1-objetivos" title="Permanent link">&para;</a></h2>
<p>En la primera práctica de la asignatura vamos a tomar contacto con el
<em>framework</em> de desarrollo de aplicaciones web en Java <em>Play
Framework</em>, trabajando sobre la aplicación inicial
<a href="https://github.com/domingogallardo/mads-todolist-inicial">domingogallardo/mads-todolist-inicial</a>.</p>
<p>La práctica tendrá una duración de cuatro semanas. Deberás realizarla de
forma individual, siguiendo las indicaciones que encontrarás en este
documento. Tendrás que desarrollar código y trabajar en GitHub
desarrollando <em>issues</em>, <em>pull requests</em>, <em>releases</em> y actualizando la
wiki del proyecto.</p>
<p>Antes de comenzar la práctica debes leer la <a href="intro-play-teoria.html">introducción a Play
Framework para las prácticas de MADS</a>.</p>
<h3 id="11-aplicacion-inicial">1.1. Aplicación inicial<a class="headerlink" href="#11-aplicacion-inicial" title="Permanent link">&para;</a></h3>
<p>La aplicación inicial es una aplicación para
gestionar listas de tareas pendientes de los empleados de una
empresa. Se pueden registrar y logear usuarios y los usuarios
registrados pueden añadir, modificar y borrar tareas pendientes de
hacer.</p>
<p>También tiene unas funcionalidades iniciales básicas relacionadas con
la gestión de equipos de usuarios, de las que sólo se ha implementado
el esqueleto, sin apenas interfaz de usuario.</p>
<p>A continuación puedes ver dos de las pantallas de la aplicación.</p>
<table>
<tr>
<td><img src="https://raw.githubusercontent.com/domingogallardo/apuntes-mads/master/practicas/01-introduccion-play/imagenes/login.png" width="700px"/></td>
</tr>
<tr>
<td align="center"> Pantalla de login </td>
</table>

<table>
<tr>
<td><img src="https://raw.githubusercontent.com/domingogallardo/apuntes-mads/master/practicas/01-introduccion-play/imagenes/tareas.png" width="700px"/></td>
</tr>
<tr>
<td align="center"> Pantalla con listado de tareas </td>
</table>

<p>Iremos desarrollando características adicionales de la aplicación a lo
largo de las prácticas. El nombre de la aplicación es <strong>ToDo List</strong>.</p>
<h3 id="12-metodologia-de-desarrollo">1.2. Metodología de desarrollo<a class="headerlink" href="#12-metodologia-de-desarrollo" title="Permanent link">&para;</a></h3>
<p>En cuanto a la metodología de desarrollo, en esta primera práctica
repasaremos e introduciremos el uso de:</p>
<ul>
<li><a href="https://git-scm.com">Git</a> como sistema de control de versiones que nos permitirá
  registrar paso a paso los cambios realizados en el desarrollo,
  realizando e integrando ramas de <em>features</em> en las que
  desarrollaremos pequeños incrementos que añadirán poco a poco las
  funcionalidades necesarias en la aplicación.</li>
<li><a href="https://github.com">GitHub</a> como servicio en el que publicaremos los cambios e
  integraremos las ramas usando <em>pull requests</em> (PRs). Utilizaremos un
  gran número de características de GitHub para realizar el
  seguimiento del desarrollo del proyecto: <em>issues</em>, <em>labels</em>,
  <em>milestones</em>, etc.</li>
<li>JUnit y DBUnit para realizar continuamente pruebas unitarias que
  validen el desarrollo.</li>
</ul>
<p>El objetivo es desarrollar software de una forma similar a cómo se
hace en cientos de proyectos punteros de desarrollo <em>open
source</em>. </p>
<p>Algunos ejemplos de repositorios en GitHub:</p>
<ul>
<li><a href="https://github.com/CartoDB/cartodb">CartoDB</a></li>
<li><a href="https://github.com/vapor/vapor">Vapor</a></li>
<li><a href="https://github.com/google/guice">Guice</a></li>
<li><a href="https://github.com/playframework/playframework">Play Framework</a></li>
<li><a href="https://github.com/apple/swift-nio">swift-nio</a></li>
</ul>
<h4>Git</h4>
<p>Git es el sistema de control de versiones más utilizado en la
actualidad. Es muy flexible, distribuido, adaptable a múltiples flujos
de trabajo e ideal para una metodología de desarrollo en
equipo. Suponemos que ya tienes cierta experiencia con su uso. Puedes
usar los siguientes enlaces para repasar su funcionamiento.</p>
<ul>
<li><a href="comandos-git.html">Resumen de comandos de Git</a>: Resumen de comandos
  principales para empezar a trabajar con Git.</li>
<li><a href="https://www.atlassian.com/git/tutorials/">Atlassian Git Tutorials</a>:
  Tutoriales muy orientados al uso de Git con gran cantidad de
  ejemplos. Es recomendable repasar los tutoriales básicos (<em>Getting
  Started</em>) y los tutoriales <em>Syncing</em> y <em>Using Branches</em> en el
  apartado <em>Collaborating</em>.</li>
<li><a href="https://git-scm.com/book/en/v2">Libro de Scott Chacon</a>: Completo
  manual con todos los detalles de todos los comandos de Git.</li>
</ul>
<p>Cuando utilicemos git es muy importante realizar unos mensajes de
<em>commit</em> claros. Un mensaje de <em>commit</em> es la forma de comunicar a los
compañeros del equipo qué cambios se han introducido en la aplicación
y ponerlos en contexto (explicar por qué se han hecho, dar algún
detalle de implementación, etc.). El post
<a href="http://chris.beams.io/posts/git-commit/">How to Write a Git Commit Message</a>
explica muy bien esto.</p>
<h4>Flujo de trabajo</h4>
<p>Desarrollaremos la aplicación de forma iterativa, utilizando
inicialmente un flujo de trabajo Git denominado <em>feature branch</em>
(consultar la
<a href="https://guides.github.com/introduction/flow/">guía de GitHub</a>) en el
que cada característica nueva se implementa en una rama separada que
después se mezcla con la rama principal de desarrollo. Más adelante
veremos otros flujos de trabajo. Puedes ver una introducción a
distintos flujos de trabajo básicos con Git en este
<a href="https://www.atlassian.com/git/tutorials/comparing-workflows">documento de Atlassian</a>.</p>
<p>Para implementar este flujo de trabajo utilizaremos todos los
instrumentos de GitHub que facilitan la comunicación entre los
miembros del equipo:</p>
<ul>
<li>
<p><strong>Issues</strong> (<em>incidencias</em>): GitHub permite abrir <em>issues</em>
  (incidencias o tareas), asignarlos a personas, realizar comentarios,
  asignar etiquetas y cerrarlos cuando la implementación ha
  terminado. Consultar
  <a href="https://guides.github.com/features/issues/">Mastering Issues</a>.</p>
<p><img src="https://raw.githubusercontent.com/domingogallardo/apuntes-mads/master/practicas/01-introduccion-play/imagenes/github-issues.png" width="400px"/></p>
<p>Definiremos distintos tipos de <em>issues</em> en función de su
propósito: <em>feature</em>, <em>bug</em> y <em>technical</em>.</p>
<p><img src="https://raw.githubusercontent.com/domingogallardo/apuntes-mads/master/practicas/01-introduccion-play/imagenes/labels-issues.png" width="400px"/></p>
<p>Cada <em>issue</em> se desarrollará en una rama de Git y se integrará en la
rama <em>master</em> haciendo un <em>pull request</em>.</p>
</li>
<li>
<p><strong>Pull Requests</strong>: Un <em>pull request</em> permite avisar al equipo de que
  se va a integrar en la rama principal una rama con un desarrollo
  nuevo. Cuando creamos un PR, GitHub crea una página en la que se
  pueden realizar comentarios, revisiones de código o definir
  políticas de aceptación del PR. Consultar
  <a href="https://help.github.com/articles/about-pull-requests/">About pull requests</a>.</p>
<p>Implementaremos cada <em>issue</em> en una rama separada de git y la
integraremos en la rama <code>master</code> haciendo un <em>pull
request</em>. Cuando se mezcle el PR en <code>master</code> el <em>issue</em> se
cerrará.</p>
<p><img src="https://raw.githubusercontent.com/domingogallardo/apuntes-mads/master/practicas/01-introduccion-play/imagenes/github-pr.png" width="700px"/></p>
<p>Más adelante añadiremos otra rama de largo recorrido <code>releases</code> para
incluir en ella las <em>releases</em> del proyecto.</p>
</li>
<li>
<p><strong>Milestones</strong> y <strong>Releases</strong>: Etiquetaremos cada <em>issue</em> con el
  <em>milestone</em> en el que queremos que se lance. Para identificar el
  <em>milestone</em> usaremos el <a href="https://semver.org">versionado semántico</a>:
  MAJOR.MINOR.PATCH. </p>
<p><img src="https://raw.githubusercontent.com/domingogallardo/apuntes-mads/master/practicas/01-introduccion-play/imagenes/github-milestones.png" width="500px"/></p>
<p>Usaremos la funcionalidad de GitHub <em>Releases</em> para etiquetar los
commits en los que queramos marcar una versión nueva del
proyecto. Podemos añadir información sobre las novedades de la
versión (normalmente serán enlaces a los <em>issues</em> y <em>pull
requests</em> de ese <em>milestone</em>).</p>
<p><img src="https://raw.githubusercontent.com/domingogallardo/apuntes-mads/master/practicas/01-introduccion-play/imagenes/github-releases.png" width="400px"/></p>
</li>
<li>
<p><strong>Tablero de proyecto</strong>: Un tablero de proyecto nos ayudará a hacer
  un seguimiento de en qué estado se encuentra cada <em>issue</em> o PR:
  cuáles han sido implementados, cuáles faltan por asignar,
  implementar, probar, etc. Vamos a utilizar la funcionalidad propia
  de GitHub llamada <em>Projects</em>. Consultar
  <a href="https://help.github.com/articles/tracking-the-progress-of-your-work-with-project-boards/">project boards</a>.</p>
<p><img src="https://raw.githubusercontent.com/domingogallardo/apuntes-mads/master/practicas/01-introduccion-play/imagenes/github-tablero.png" width="700px"/></p>
</li>
<li>
<p><strong>Wiki</strong>: Por último, GitHub ofrece una wiki en que utilizaremos
  para documentar las nuevas <em>features</em> (también llamadas
  funcionalidades o historias de usuario) a implementar. Consultar
  <a href="https://guides.github.com/features/wikis/">documenting your projects on GitHub</a>.</p>
<p>La documentación en la Wiki, en los <em>issues</em>, en los PRs y en el
propio <code>README.md</code> del proyecto hay que escribirla en
<strong>Markdown</strong>, un lenguaje de marcado muy popular y sencillo de
dominar. Si no has trabajado todavía con él puedes leer estas
<a href="https://help.github.com/categories/writing-on-github/">guías de
GitHub</a>.</p>
<p>Existen herramientas y servicios más avanzados para gestionar
todos estos elementos del desarrollo. Por ejemplo
<a href="https://www.atlassian.com/software/jira">Jira</a>,
<a href="https://www.jetbrains.com/youtrack/">YouTrack</a>,
<a href="https://www.atlassian.com/software/confluence">Confluence</a> o
incluso <a href="https://www.atlassian.com/software/trello">Trello</a>. Pero
lo que nos ofrece GitHub es suficiente para lo que vamos a
realizar en la asignatura y tiene la ventaja de estar integrado en
una misma plataforma.</p>
</li>
</ul>
<h2 id="2-entorno-para-realizar-la-practica">2. Entorno para realizar la práctica<a class="headerlink" href="#2-entorno-para-realizar-la-practica" title="Permanent link">&para;</a></h2>
<p>Software necesario:</p>
<ul>
<li><a href="https://git-scm.com/downloads">Git</a></li>
<li><a href="https://www.docker.com/community-edition">Docker</a>, para ejecutar la
   imagen (similar a una máquina virtual) que contiene Java y Play
   Framework. En esta primera práctica se utiliza para compilar y
   ejecutar los proyectos Play y para lanzar el servicio de base de
   datos MySQL.</li>
<li>Como entorno de desarrollo proporcionamos dos opciones:</li>
<li><a href="https://code.visualstudio.com">Visual Studio Code</a>: IDE para
     trabajar en el desarrollo del proyecto si no es posible usar
     IntelliJ. No tiene las funcionalidades de IntelliJ de
     autocompletar código, depuración, etc.</li>
<li><a href="https://www.jetbrains.com/idea/">IntelliJ IDEA</a>: IDE recomendado
     para trabajar en el desarrollo del proyecto. Debes descargar la
     versión <strong>Ultimate</strong>. Es de pago, pero puedes conseguir una
     licencia educativa en
     <a href="https://www.jetbrains.com/student/">https://www.jetbrains.com/student/</a>. Es
     necesario disponer del <strong>JDK Java 8</strong>.  En la instalación se debe
     instalar el <strong>plugin de Scala</strong>.</li>
</ul>
<h3 id="docker">Docker<a class="headerlink" href="#docker" title="Permanent link">&para;</a></h3>
<p><a href="https://docs.docker.com">Docker</a> es una tecnología que ha tenido una
gran expansión en los últimos años. Permite construir máquinas
virtuales ligeras que utilizan el mismo sistema operativo de la
máquina host. Estas máquinas virtuales se denominan <em>contenedores</em> y,
al compartir el propio sistema operativo en el que se están
ejecutando, su gestión (construcción, arranque, parada, etc.) es
muchísimo más rápida que las máquinas virtuales tradicionales.</p>
<p>Utilizaremos la imagen Docker
<a href="https://hub.docker.com/r/domingogallardo/playframework/">domingogallardo/playframework</a>,
que <strong>lanza el comando <code>sbt</code> sobre el directorio actual</strong> necesario
para compilar y ejecutar aplicaciones Play.</p>
<p>Cada máquina docker se define con un fichero <code>Dockerfile</code>. Puedes
mirar el fichero <code>Dockerfile</code> de la imagen de la asignatura en <a href="https://github.com/domingogallardo/playframework/blob/master/Dockerfile">este
enlace</a>. Más
adelante en la asignatura estudiaremos más sobre Docker.</p>
<p>Tal y como hemos explicado en la <a href="intro-play-teoria.html">introducción a Play Framework para
las prácticas de MADS</a> para lanzar esta imagen
tenemos que ejecutar el siguiente comando, estando en el directorio de
la aplicación Play:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>$ cd /path/to/my/play/project
$ docker run --rm  -it -v &quot;${PWD}:/code&quot; -p 9000:9000 domingogallardo/playframework
</pre></div>
</td></tr></table>

<p>El comando <code>docker run</code> buscará la imagen
<code>domingogallardo/playframework</code> en local y la descargará si no la
encuentra. Después la ejecutará montando el directorio actual en el
directorio <code>/code</code> y mapeando el puerto 80 de la máquina host en el
puerto 9000 del contenedor. La imagen está configurada para lanzar el
comando <code>sbt</code> sobre el directorio <code>code</code>.</p>
<p>Como en este directorio está montado el directorio de la máquina
<em>host</em> en donde tienes el proyecto, podrás editar y modificar los
ficheros en la propia máquina <em>host</em> y compilarlos y ejecutarlos desde
el comando <code>sbt</code> en el contenedor.</p>
<p>En la configuración por defecto (fichero <code>conf/application.conf</code>) la
aplicación trabaja con la base de datos en memoria. Existe otra
configuración (<code>conf/develop-mysql.conf</code>) para que la aplicación
trabaje con una base de datos MySQL. La utilizaremos también en la práctica.</p>
<h3 id="entorno-de-trabajo">Entorno de trabajo<a class="headerlink" href="#entorno-de-trabajo" title="Permanent link">&para;</a></h3>
<p>Es importante que el entorno de trabajo permita realizar con facilidad
tanto el desarrollo de la aplicación como las pruebas.</p>
<h4>Pruebas manuales y automáticas</h4>
<p>Durante el desarrollo de la práctica será necesario realizar <strong>pruebas
manuales</strong> de la aplicación, introducir datos en sus pantallas y
comprobar que los cambios que hemos añadido funcionan correctamente.</p>
<p>Para estas pruebas manuales recomendamos utilizar la configuración de
ejecución trabajando sobre la <strong>base de datos real MySQL</strong>. De esta forma
podemos introducir datos y reutilizarlos en posteriores pruebas
manuales.</p>
<p>Para poner en marcha la base de datos MySQL recomendamos usar
Docker. El siguiente comando lanza un contenedor llamado <code>play-mysql</code>
con una base de datos MySQL trabajando en el puerto interno <code>3306</code> y en
el puerto del host <code>3316</code> con el usuario <code>root</code> con la contraseña <code>mads</code>:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>$ docker run -d -p <span class="m">3316</span>:3306 --name play-mysql -e <span class="nv">MYSQL_ROOT_PASSWORD</span><span class="o">=</span>mads -e <span class="nv">MYSQL_DATABASE</span><span class="o">=</span>mads mysql:5
</pre></div>
</td></tr></table>

<div class="admonition warning">
<p class="admonition-title">Importante</p>
<p>En los laboratorios de la EPS está instalada la
imagen Docker 5.7.18 de MySQL. Hay que definir explícitamente esa versión
en el comando docker, escribiendo <code>mysql:5.7.18</code>.</p>
</div>
<p>También durante el desarrollo hay que implementar y lanzar <strong>tests
automáticos</strong>. Recomendamos en este caso usar la <strong>base de datos de
memoria</strong>, en lugar de la base de datos MySQL, para que la ejecución de
los tests tenga más velocidad y para que no se borren los datos
introducidos en las pruebas manuales.</p>
<p>Debemos configurar el entorno de trabajo para que sea posible realizar
los dos tipos de pruebas, manuales y automáticas,
simultáneamente. </p>
<p>Dependiendo de si utilizamos o no IntelliJ lo haremos
de forma distinta.</p>
<h4>Configuración de trabajo usando Visual Studio Code</h4>
<p>Si tu ordenador no tiene prestaciones suficientes para trabajar con
IntelliJ IDEA puedes usar un editor como Visual Studio Code.</p>
<p>Recomendamos trabajar con tres pestañas de terminal abiertas en el editor:</p>
<ul>
<li><strong>Terminal 1</strong>: ejecución de la aplicación para hacer <strong>pruebas
  manuales</strong> sobre base de datos MySQL. Lanzamos en el shell el
  comando docker para lanzar la aplicación usando la base de datos
  MySQL.<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>$ docker run --link db-mysql --rm -it -p <span class="m">9000</span>:9000 -e <span class="se">\</span>
<span class="nv">DB_URL</span><span class="o">=</span><span class="s2">&quot;jdbc:mysql://db-mysql:3306/mads&quot;</span> -e <span class="nv">DB_USER_NAME</span><span class="o">=</span><span class="s2">&quot;root&quot;</span> -e <span class="se">\</span>
<span class="nv">DB_USER_PASSWD</span><span class="o">=</span><span class="s2">&quot;mads&quot;</span> -v <span class="s2">&quot;</span><span class="si">${</span><span class="nv">PWD</span><span class="si">}</span><span class="s2">:/code&quot;</span> domingogallardo/playframework
</pre></div>
</td></tr></table>

</li>
</ul>
<p>Y desde la consola sbt modificamos la preferencia <code>config.file</code> para
que la aplicación utilice la configuración definida en el fichero
<code>conf/develop-mysql.conf</code></p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>    [mads-todolist-dgallardo] $ set javaOptions += &quot;-Dconfig.file=conf/develop-mysql.conf&quot;
    [mads-todolist-dgallardo] $ run
</pre></div>
</td></tr></table>

<ul>
<li>
<p><strong>Terminal 2</strong>: <strong>pruebas automáticas</strong> sobre la base de datos de
  memoria. Lanzamos en el shell el comando docker para lanzar sbt.
  No hace falta exportar el puerto 9000 porque sólo se va
  a usar el contenedor para lanzar los tests:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>$ docker run --rm  -it -v <span class="s2">&quot;</span><span class="si">${</span><span class="nv">PWD</span><span class="si">}</span><span class="s2">:/code&quot;</span> domingogallardo/playframework
<span class="o">[</span>mads-todolist-dgallardo<span class="o">]</span> $ <span class="nb">test</span>
</pre></div>
</td></tr></table>

</li>
<li>
<p><strong>Terminal 3</strong>: shell en el que usaremos git:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>$ git status
On branch master
Your branch is up to date with <span class="s1">&#39;origin/master&#39;</span>.

nothing to commit, working tree clean
</pre></div>
</td></tr></table>

</li>
</ul>
<h4>Configuración de trabajo usando IntelliJ</h4>
<p>Si tenemos un ordenador con suficiente capacidad es recomendable usar
IntelliJ IDEA como entorno de desarrollo.</p>
<p>Recomendamos la siguiente configuración:</p>
<ul>
<li>
<p><strong>Pruebas manuales</strong>: para lanzar la aplicación y poder realizar
  pruebas manuales usando la base de datos MySQL debemos crear una
  <a href="intro-play-teoria.html#desde-el-rundebug-de-intellij">configuración de run/debug que trabaje sobre
  MySQL</a> y
  lanzar la ejecución.</p>
</li>
<li>
<p><strong>Pruebas automáticas</strong>: se lanza <code>sbt</code> desde la propia pestaña de
  IntelliJ o desde un terminal con el comando <code>docker run</code>. Como hemos
  comentado anteriormente, no es necesario mapear el puerto 9000
  porque el contenedor sólo se va a usar para lanzar los tests:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>$ docker run --rm  -it -v <span class="s2">&quot;</span><span class="si">${</span><span class="nv">PWD</span><span class="si">}</span><span class="s2">:/code&quot;</span> domingogallardo/playframework
<span class="o">[</span>mads-todolist-dgallardo<span class="o">]</span> $
</pre></div>
</td></tr></table>

<p>Y se lanza el comando <code>test</code>.</p>
</li>
<li>
<p><strong>Shell de git</strong>: es recomendable tener abierta una ventana de
  terminal adicional para trabajar con git.</p>
</li>
</ul>
<div class="admonition warning">
<p class="admonition-title">Cuidado en las máquinas de la EPS</p>
<p>En las máquinas virtuales Ubuntu de la EPS, la aplicación
Docker se ejecuta con el usuario <code>root</code>. Si se lanza una ejecución de
la máquina de docker con el directorio del proyecto antes de haberlo
compilado con IntelliJ, se crearán directorios de trabajo <code>logs</code> y
<code>target</code> con propiedad de <code>root</code>. Esto provocará un error de permisos cuando vayamos a compilar desde
IntelliJ y hará imposible la compilación desde el IDE. </p>
<p>Para que funcione correctamente la compilación desde IntelliJ
debemos eliminar esos directorios y hacer que sea IntelliJ quien
los cree. Por ejemplo, podemos borrarlos a mano con <code>$ sudo rm
-rf logs</code> y <code>$ sudo rm -rf target</code>.</p>
<p>O podemos volver a descargar el proyecto de GitHub y compilarlo
por primera vez con IntelliJ.</p>
</div>
<h2 id="3-antes-de-empezar-la-practica">3. Antes de empezar la práctica<a class="headerlink" href="#3-antes-de-empezar-la-practica" title="Permanent link">&para;</a></h2>
<ol>
<li>
<p>Descarga e instala el software indicado en el apartado anterior.</p>
</li>
<li>
<p>Inicializa tu nombre de usuario y tu correo en Git. El nombre de
   usuario será el nombre que aparecerá en los <em>commits</em>. Pon tu nombre
   y apellido.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>$ git config --global user.name <span class="s2">&quot;Pepe Perez&quot;</span>
$ git config --global user.email pepe.perez@example.com<span class="p">&amp;</span>lt<span class="p">;</span>
</pre></div>
</td></tr></table>

</li>
<li>
<p>Descarga la imagen de Docker para poder compilar y ejecutar los
   proyectos Play:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>$ docker pull domingogallardo/playframework
$ docker image ls
REPOSITORY                      TAG                 IMAGE ID            CREATED             SIZE
domingogallardo/playframework   latest              95c1eb17ecb4        <span class="m">5</span> weeks ago         530MB
</pre></div>
</td></tr></table>

</li>
<li>
<p>Crea una cuenta en GitHub. Puedes usar el nombre de usuario que
   quieras (o usar el que ya tienes), pero <strong>escribe correctamente tu
   nombre y apellidos en el perfil</strong> usando la opción <em>Settings &gt;
   Profile</em> y actualizando el campo <em>Name</em>.</p>
</li>
<li>
<p>Una vez logeado en GitHub, copia el enlace con una invitación que
   compartiremos en el foro de Moodle. Con esa invitación se creará
   automáticamente el repositorio <code>todolist-2018-&lt;usuario&gt;</code> en la
   organización <a href="https://github.com/mads-ua-18">mads-ua-18</a>. Es un
   repositorio privado al que tienes acceso tú y el
   profesor. Contiene el código inicial de un proyecto base Play (es
   una copia del repositorio
   <a href="https://github.com/domingogallardo/mads-todolist-inicial">domingogallardo/mads-todolist-inicial</a>)
   en la que se han comprimido todos los commits en uno.</p>
<p>Es importante que tengas en cuenta que el repositorio recién
creado no reside en tu cuenta, sino en la organización
<code>mads-ua</code>. Puedes acceder a él desde el <em>dashboard</em> de GitHub que
aparece cuando te logeas:</p>
<p><img src="https://raw.githubusercontent.com/domingogallardo/apuntes-mads/master/practicas/01-introduccion-play/imagenes/dashboard-github.png" width="600px"/></p>
<p>También el profesor te invitará a formar parte de la organización
y recibirás un mensaje de correo electrónico en el que deberás
aceptar esta invitación. También se puede aceptar la invitación
accediendo a <a href="https://github.com/mads-ua-18">https://github.com/mads-ua-18</a>.</p>
</li>
<li>
<p>Descarga el proyecto y comprueba que se compila y ejecuta
   correctamente con la imagen de Docker y usando la base de datos de
   memoria (muy útil para pruebas y lanzar los tests).</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>$ git clone https://github.com/mads-ua/todolist-2018-usuario.git
$ <span class="nb">cd</span> todolist-2018-usuario
$ docker run --rm  -it -v <span class="s2">&quot;</span><span class="si">${</span><span class="nv">PWD</span><span class="si">}</span><span class="s2">:/code&quot;</span> -p <span class="m">9000</span>:9000 domingogallardo/playframework
<span class="o">[</span>info<span class="o">]</span> Loading project definition from /code/project
<span class="o">[</span>info<span class="o">]</span> Updating <span class="o">{</span>file:/code/project/<span class="o">}</span>code-build...
<span class="o">[</span>info<span class="o">]</span> Resolving org.fusesource.jansi#jansi<span class="p">;</span><span class="m">1</span>.4 ...
<span class="o">[</span>info<span class="o">]</span> Done updating.
<span class="o">[</span>info<span class="o">]</span> Set current project to play-java <span class="o">(</span>in build file:/code/<span class="o">)</span>
<span class="o">[</span>mads-todolist-inicial<span class="o">]</span> $ <span class="nb">test</span>
...
<span class="o">[</span>info<span class="o">]</span> Passed: Total <span class="m">35</span>, Failed <span class="m">0</span>, Errors <span class="m">0</span>, Passed <span class="m">35</span>
<span class="o">[</span>success<span class="o">]</span> Total time: <span class="m">35</span> s, completed Sep <span class="m">4</span>, <span class="m">2018</span> <span class="m">9</span>:34:04 AM
<span class="o">[</span>mads-todolist-inicial<span class="o">]</span> $ run
</pre></div>
</td></tr></table>

<p>Comprueba que la aplicación está funcionando en
<a href="http://localhost:9000">http://localhost:9000</a> en la máquina host.</p>
<p><img src="https://raw.githubusercontent.com/domingogallardo/apuntes-mads/master/practicas/01-introduccion-play/imagenes/login.png" width="600px"/></p>
<p>Para salir del comando <code>run</code> de <code>sbt</code> debemos hacer
<code>CTRL+d</code>. Podemos lanzar cualquier otro comando de sbt (consultar
<a href="https://playframework.com/documentation/2.5.x/PlayConsole">Using the SBT console</a>.  </p>
<p>Para salir del contenedor podemos escribir el comando <code>exit</code> o hacer <code>CTRL+c</code>.</p>
</li>
<li>
<p>Prueba que la aplicación funciona correctamente trabajando con la
   base de datos MySQL (el funcionamiento real de la aplicación y para
   hacer pruebas de integración).</p>
<p>Lanza MySQL con Docker:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>$ docker run -d -p <span class="m">3316</span>:3306 --name db-mysql -e <span class="nv">MYSQL_ROOT_PASSWORD</span><span class="o">=</span>mads -e <span class="nv">MYSQL_DATABASE</span><span class="o">=</span>mads mysql:5
</pre></div>
</td></tr></table>

<div class="admonition warning">
<p class="admonition-title">Importante</p>
<p>En los laboratorios de la EPS está instalada la
imagen Docker 5.7.18 de MySQL. Hay que definir explícitamente esa versión
en el comando docker, escribiendo <code>mysql:5.7.18</code>.</p>
</div>
<p>Para parar y volver a poner en marcha el contenedor mysql puedes
usar los comandos <code>docker stop</code> y <code>docker start</code>. Los datos
añadidos en la base de datos se mantendrán mientras que el
contenedor no se borre. El comando <code>docker container ls -a</code> lista
todos los contenedores existentes (parados y en marcha):</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>$ docker container ls
CONTAINER ID        IMAGE               CREATED             STATUS              PORTS                               NAMES
bd057639b6ac        mysql:5             <span class="m">30</span> minutes ago      Up <span class="m">22</span> minutes       <span class="m">33060</span>/tcp, <span class="m">0</span>.0.0.0:3316-<span class="p">&amp;</span>gt<span class="p">;</span><span class="m">3306</span>/tcp   db-mysql
$ docker container stop bd057639b6ac
CONTAINER ID        IMAGE               CREATED             STATUS                     PORTS               NAMES
bd057639b6ac        mysql:5             <span class="m">31</span> minutes ago      Exited <span class="o">(</span><span class="m">0</span><span class="o">)</span> <span class="m">7</span> seconds ago                       db-mysql
$ docker container start bd057639b6ac
CONTAINER ID        IMAGE               CREATED             STATUS              PORTS                               NAMES
bd057639b6ac        mysql:5             <span class="m">32</span> minutes ago      Up <span class="m">5</span> seconds        <span class="m">33060</span>/tcp, <span class="m">0</span>.0.0.0:3316-<span class="p">&amp;</span>gt<span class="p">;</span><span class="m">3306</span>/tcp   db-mysql
</pre></div>
</td></tr></table>

<p>Ahora ya podemos lanzar la aplicación con docker para que trabaje
con la base de datos del contenedor, definiendo ahora en variables
de entorno la URL, el usuario y la contraseña con la que debe
conectarse la aplicación a la base de datos. Usamos la opción
<code>link</code> de docker para definir el nombre lógico del contenedor al
que debe conectarse la aplicación.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>$ docker run --link db-mysql --rm -it -p <span class="m">9000</span>:9000 -e <span class="se">\</span>
<span class="nv">DB_URL</span><span class="o">=</span><span class="s2">&quot;jdbc:mysql://db-mysql:3306/mads&quot;</span> -e <span class="nv">DB_USER_NAME</span><span class="o">=</span><span class="s2">&quot;root&quot;</span> -e <span class="se">\</span>
<span class="nv">DB_USER_PASSWD</span><span class="o">=</span><span class="s2">&quot;mads&quot;</span> -v <span class="s2">&quot;</span><span class="si">${</span><span class="nv">PWD</span><span class="si">}</span><span class="s2">:/code&quot;</span> domingogallardo/playframework
</pre></div>
</td></tr></table>

<p>Y desde la consola sbt modificamos la preferencia <code>config.file</code>
para que la aplicación utilice la configuración definida en el
fichero <code>conf/develop-mysql.conf</code>.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>[mads-todolist-inicial] $ set javaOptions += &quot;-Dconfig.file=conf/develop-mysql.conf&quot;
[mads-todolist-inicial] $ run
</pre></div>
</td></tr></table>

<p>Prueba que la aplicación funciona correctamente. Puedes comprobar
las tablas y los datos almacenados en la base de datos
conectándote a la base de datos en el puerto 3316 desde cualquier
cliente MySQL:</p>
<ul>
<li>En los laboratorios de la EPS, usando <em>MySQL Workbench</em>. </li>
<li>En IntelliJ IDEA puedes usar la consola MySQL:</li>
</ul>
<p><img src="https://raw.githubusercontent.com/domingogallardo/apuntes-mads/master/practicas/01-introduccion-play/imagenes/conexionbd-intellij.png" width="500px"/></p>
<p>Es posible examinar el esquema de la base de datos:</p>
<p><img src="https://raw.githubusercontent.com/domingogallardo/apuntes-mads/master/practicas/01-introduccion-play/imagenes/esquema-bd.png" width="300px"/></p>
<p>Y examinar tablas en concreto:</p>
<p><img src="https://raw.githubusercontent.com/domingogallardo/apuntes-mads/master/practicas/01-introduccion-play/imagenes/tablabd-intellij.png" width="300px"/></p>
</li>
<li>
<p>Con todo lo hecho hasta ahora ya hemos comprobado que la aplicación
   se compila correctamente y se ejecuta sin problema en las dos
   configuraciones más importantes con las que trabajaremos: base de
   datos en memoria y base de datos MySQL.</p>
</li>
</ol>
<p>Para el desarrollo de la práctica que viene a continuación es
fundamental que entiendas el funcionamiento de Play Framework. Lo
explicaremos rápidamente en la clase de teoría usando el documento
<a href="intro-play-teoria.html">introducción a Play Framework para las prácticas de
MADS</a>. Pero es imprescindible que hagas tú un
esfuerzo descargando, probando y modificando las dos aplicaciones:
<code>domingogallardo/play-proyecto-inicial</code> y
<code>domingogallardo/mads-todolist-inicial</code> (es la aplicación que se ha
copiado en tu repositorio).</p>
<p>Puedes trabajar en estos proyectos sin miedo de estropearlos. Es más,
cuanto más los estropees mejor, porque es la forma de aprender. No
deberás entregar nada de estos proyectos.</p>
<h2 id="4-desarrollo-de-la-practica">4. Desarrollo de la práctica<a class="headerlink" href="#4-desarrollo-de-la-practica" title="Permanent link">&para;</a></h2>
<p>En esta primera práctica vamos a desarrollar las siguientes dos
historias de usuario o <em>features</em>:</p>
<ol>
<li>Página <em>Acerca de</em></li>
<li>Barra de menú</li>
<li>Página listado de equipos</li>
<li>Página descripción de equipo</li>
</ol>
<p>La práctica va a consistir en la realización en tu proyecto de todos
los elementos necesarios para implementar estas <em>features</em> : wiki,
<em>issues</em>, <em>pull requests</em> (con sus <em>commits</em> en los que se desarrolla paso a paso
cada <em>issue</em>) y tablero del proyecto. </p>
<p>Haremos paso a paso la primera característica, creando la primera
versión 1.0.0 de la aplicación. Las siguientes características las
deberás desarrollar tu mismo y entregar la versión 1.1.0.</p>
<h3 id="41-version-100">4.1. Versión 1.0.0<a class="headerlink" href="#41-version-100" title="Permanent link">&para;</a></h3>
<p>La versión 1.0.0 será la versión inicial de la
aplicación. Desarrollaremos en esta versión la primera característica:
<strong>Página <em>Acerca de</em></strong>.</p>
<h4>4.1.1. Wiki</h4>
<p>Utilizaremos la Wiki del proyecto GitHub para documentar las
características a desarrollar en la aplicación. Deberá haber una
página para cada característica. La página principal de la Wiki será
el <em>backlog</em> del proyecto y deberá tener los enlaces a todas las
características desarrolladas y pendientes de desarrollar.</p>
<p>Añade la página principal, en la que organizarás el listado de
<em>features</em> desarrolladas en proyecto. Un posible ejemplo de
organización es el siguiente:</p>
<p><img src="https://raw.githubusercontent.com/domingogallardo/apuntes-mads/master/practicas/01-introduccion-play/imagenes/wiki-practica.png" width="700px"/></p>
<p>Añade una página con la descripción de la característica <strong>Página
<em>Acerca de</em></strong>:</p>
<p><img src="https://raw.githubusercontent.com/domingogallardo/apuntes-mads/master/practicas/01-introduccion-play/imagenes/wiki-practica-acerca-de.png" width="700px"/></p>
<h4>4.1.2. Tablero del proyecto</h4>
<p>Configura el tablero del proyecto, poniendo como nombre <code>ToDoList</code> y
seleccionando como plantilla <code>Automated kanban</code>. Elimina las tarjetas
en la columna <code>To do</code> y añade la columna <code>In pull request</code> entre <code>In
progress</code> y <code>Done</code>.</p>
<p><img src="https://raw.githubusercontent.com/domingogallardo/apuntes-mads/master/practicas/01-introduccion-play/imagenes/project-practica.png" width="900px"></p>
<p>En las columnas deberán aparecer los <em>issues</em> y <em>pull requests</em> del
proyecto. GitHub permite automatizar el movimiento de las tarjetas de
una columna a otra. A continuación mostramos la configuración que
usaremos:</p>
<p><img src="https://raw.githubusercontent.com/domingogallardo/apuntes-mads/master/practicas/01-introduccion-play/imagenes/projecto-practica-automation.png" width="900px"/></p>
<p>Deberemos mover manualmente las tarjetas en algún caso, porque GitHub
no podrá detectar las condiciones. En resumen, las condiciones de las
fichas que habrá en cada columna son las siguientes:</p>
<ul>
<li>Columna <code>To do</code>: Nuevos <em>issues</em> añadidos al proyecto. Cuando
  añadimos el proyecto al <em>issue</em> (en la página del <em>issue</em>) GitHub
  lo coloca automáticamente en esta columna.</li>
<li>Columna <code>In progress</code>: <em>Issues</em> que se han comenzado a implementar
  (se ha creado una rama su desarrollo). Manual.</li>
<li>Columna <code>In pull request</code>: <em>Pull request</em> creados. Cuando añadimos
  el proyecto al <em>pull request</em> (en la página del <em>pull request</em>)
  GitHub lo coloca automáticamente en esta columna. Archivaremos el
  <em>issue</em> implementado por el <em>pull request</em> manualmente.</li>
<li>Columna <code>Done</code>: <em>Pull requests</em> cerrados. GitHub lo detecta automáticamente.</li>
</ul>
<h4>4.1.3. Issues</h4>
<p>Añade el primer <em>issue</em>, correspondiente a la <em>feature</em> a desarrollar
<strong>Página <em>Acerca de</em></strong>. Añade las etiquetas que inicialmente vamos a
usar (ver la imagen) y el <em>milestone</em> 1.0.0.</p>
<p><img src="https://raw.githubusercontent.com/domingogallardo/apuntes-mads/master/practicas/01-introduccion-play/imagenes/labels-issues.png" width="500px"/></p>
<p><img src="https://raw.githubusercontent.com/domingogallardo/apuntes-mads/master/practicas/01-introduccion-play/imagenes/issue-acerca-de-listado.png" width="500px"/></p>
<p><img src="https://raw.githubusercontent.com/domingogallardo/apuntes-mads/master/practicas/01-introduccion-play/imagenes/issue-acerca-de-detalle.png" width="500px"/></p>
<p>Añade el <em>issue</em> al tablero (desde la página del <em>issue</em>) y
automáticamente se añadirá en la columna <code>To do</code>.</p>
<h4>4.1.4. Desarrollo</h4>
<p>Para desarrollar el <em>issue</em> abriremos una rama en Git, realizaremos
commits sobre ella hasta estar terminado y después crearemos un <em>pull
request</em> en GitHub para realizar la integración con la rama <code>master</code>.</p>
<p>Mueve en el tablero la tarjeta con el <em>issue</em> a la columna <code>In
progress</code>.</p>
<p><img src="https://raw.githubusercontent.com/domingogallardo/apuntes-mads/master/practicas/01-introduccion-play/imagenes/in-progress-issue-1.png" width="300px" /></p>
<p>Empezamos el desarrollo importando el proyecto en IntelliJ y creando
dos pestañas en el panel <code>Terminal</code>: una para lanzar el proyecto con
Docker y trabajar con Sbt y la otra para trabajar con Git.</p>
<p><img src="https://raw.githubusercontent.com/domingogallardo/apuntes-mads/master/practicas/01-introduccion-play/imagenes/intellij-practica.png" width="700px"/></p>
<p>Creamos la rama en la que desarrollaremos la <em>feature</em> y la subimos a
GitHub (en el panel <code>Git</code>):</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>$ git checkout -b acerca-de
Switched to a new branch &#39;acerca-de&#39;
$ git push -u origin acerca-de
Username for &#39;https://github.com&#39;: domingogallardo2
Password for &#39;https://domingogallardo2@github.com&#39;: 
Total 0 (delta 0), reused 0 (delta 0)
To https://github.com/mads-ua-18/todolist-2018-domingogallardo2.git
 * [new branch]      acerca-de -&gt; acerca-de
Branch &#39;acerca-de&#39; set up to track remote branch &#39;acerca-de&#39; from &#39;origin&#39;.
</pre></div>
</td></tr></table>

<h5>Primer commit</h5>
<p>Hacemos un primer commit.</p>
<p>Cambia en <code>build.sbt</code> el nombre del proyecto a <code>mads-todolist-&lt;tu-nombre&gt;</code> y
la versión a <code>1.0.0-SNAPSHOT</code>. El sufijo <code>SNAPSHOT</code> indica <em>en
desarrollo</em>. Cuando hagamos el <em>release</em> de la versión 1.0.0
eliminaremos el sufijo.</p>
<p>Realiza el commit y súbelo a GitHub:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>$ git add build.sbt
$ git status
On branch acerca-de
Your branch is up to date with &#39;origin/acerca-de&#39;.

Changes to be committed:
  (use &quot;git reset HEAD &lt;file&gt;...&quot; to unstage)

        modified:   build.sbt

$ git commit -m &quot;Cambiado el nombre del proyecto y empezamos versión 1.0.0&quot;
[acerca-de f6180cc] Cambiado el nombre del proyecto y empezamos versión 1.0.0
 1 file changed, 2 insertions(+), 2 deletions(-)
$ git push
Enumerating objects: 5, done.
Counting objects: 100% (5/5), done.
Delta compression using up to 4 threads.
Compressing objects: 100% (3/3), done.
Writing objects: 100% (3/3), 367 bytes | 367.00 KiB/s, done.
Total 3 (delta 2), reused 0 (delta 0)
remote: Resolving deltas: 100% (2/2), completed with 2 local objects.
To https://github.com/mads-ua-18/todolist-2018-domingogallardo2.git
   6767016..a332017  acerca-de -&gt; acerca-de
</pre></div>
</td></tr></table>

<p>Consulta en GitHub que el <em>commit</em> se ha subido en GitHub:</p>
<p><img src="https://raw.githubusercontent.com/domingogallardo/apuntes-mads/master/practicas/01-introduccion-play/imagenes/commit-practica-github.png" width="400px"/></p>
<p>De esta forma habrás comprobado que tienes permiso de escritura en
el repositorio y que ya puedes comenzar a realizar la práctica.</p>
<p>Si ahora vuelves a lanzar la máquina Docker en el proyecto, verás
que ha cambiado el nombre del proyecto (en el panel <code>Sbt</code>):</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>$ docker run --rm  -it -v &quot;${PWD}:/code&quot; -p 9000:9000 domingogallardo/playframework
[info] Loading project definition from /code/project
[info] Set current project to mads-todolist-dgallardo (in build file:/code/)
[mads-todolist-dgallardo] $ 
</pre></div>
</td></tr></table>

<h5>Segundo commit</h5>
<p>En el segundo commit incluiremos el desarrollo de los elementos
necesarios para la página <em>acerca de</em>:</p>
<ul>
<li>Ruta</li>
<li>Acción en controller</li>
<li>Vista</li>
</ul>
<p>Realiza los siguientes cambios.</p>
<p><strong>Fichero <code>conf/routes</code></strong>:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>GET     /equipos/addUsuario         controllers.EquipoController.formularioAddUsuarioEquipo()
POST    /equipos/addUsuario         controllers.EquipoController.addUsuarioEquipo()

<span class="gi">+ GET     /about                      controllers.HomeController.about()</span>

# Map static resources from the /public folder to the /assets URL path
GET     /assets/*file               controllers.Assets.versioned(path=&quot;/public&quot;, file: Asset)
</pre></div>
</td></tr></table>

<p><strong>Fichero <code>app/controllers/HomeController.java</code></strong>:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>    public Result index() {
        return ok(index.render(&quot;Your new application is ready.&quot;));
    }

<span class="gi">+   public Result about() {</span>
<span class="gi">+       return ok(about.render());</span>
<span class="gi">+   }</span>
}
</pre></div>
</td></tr></table>

<p><strong>Fichero <code>app/views/about.scala.html</code></strong>:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="gi">+@main(&quot;Acerca de&quot;) {</span>
<span class="gi">+   &lt;div class=&quot;container-fluid&quot;&gt;</span>
<span class="gi">+        &lt;h1&gt;ToDo List&lt;/h1&gt;</span>
<span class="gi">+        &lt;ul&gt;</span>
<span class="gi">+            &lt;li&gt;Desarrollada por Domingo Gallardo&lt;/li&gt;</span>
<span class="gi">+            &lt;li&gt;Versión 1.0.0 (en desarrollo)&lt;/li&gt;</span>
<span class="gi">+            &lt;li&gt;Fecha de release: pendiente de release&lt;/li&gt;</span>
<span class="gi">+        &lt;/ul&gt;</span>
<span class="gi">+    &lt;/div&gt;</span>
<span class="gi">+}</span>
</pre></div>
</td></tr></table>

<p>Prueba la página accediendo a la url <a href="http://localhost:9000/about">http://localhost:9000/about</a>.</p>
<p><img src="https://raw.githubusercontent.com/domingogallardo/apuntes-mads/master/practicas/01-introduccion-play/imagenes/pagina-acerca-de.png" width="400px"/></p>
<p>Por último, confirma el commit en la rama y súbelo a GitHub. En el
panel <code>Git</code>:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>$ git add .
$ git status

On branch acerca-de
Your branch is up to date with &#39;origin/acerca-de&#39;.

Changes to be committed:
  (use &quot;git reset HEAD &lt;file&gt;...&quot; to unstage)

        modified:   app/controllers/HomeController.java
        new file:   app/views/about.scala.html
        modified:   conf/routes
$ git commit -m &quot;Añadida ruta, vista y controller &#39;about&#39;&quot;
[acerca-de 2831312] Añadida ruta, vista y controller &#39;about&#39;
 3 files changed, 14 insertions(+)
 create mode 100644 app/views/about.scala.html
$ git push
</pre></div>
</td></tr></table>

<h5>Tercer commit</h5>
<p>En el tercer commit pondremos un enlace a la página <em>acerca de</em> en la página de
login de la aplicación.</p>
<p>Realiza el siguiente cambio:</p>
<p><strong>Fichero <code>app/views/formLogin.scala.html</code></strong>:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>            &lt;a class=&quot;btn btn-link&quot; href=&quot;@routes.UsuarioController.registroUsuario()&quot;&gt;Ir a registro&lt;/a&gt;
        &lt;/p&gt;
<span class="gi">+       &lt;p&gt;&lt;a class=&quot;btn btn-link&quot; href=&quot;@routes.HomeController.about()&quot;&gt;Acerca de&lt;/a&gt;&lt;/p&gt;</span>
     }
</pre></div>
</td></tr></table>

<p>Prueba que funciona correctamente, haz el commit y súbelo a GitHub:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>$ git commit -am &quot;Añadido enlace a página &#39;about&#39; en página &#39;login&#39;&quot;
[acerca-de 672c28f] Añadido enlace a página &#39;about&#39; en página &#39;login&#39;
1 file changed, 1 insertion(+)
$ git push
</pre></div>
</td></tr></table>

<h4>4.1.5. Pull request</h4>
<p>Una vez terminada la implementación de la <em>feature</em> en la rama,
creamos un <em>pull request</em> en GitHub para indicar que estamos listos
para mezclar la rama con la <em>feature</em> con la rama principal de
desarrollo (<em>master</em>).</p>
<p>Más adelante añadiremos al <em>pull request</em> una comprobación automática
de las pruebas y una revisión de código por parte de compañeros del
equipo. Por ahora haremos nosotros ambas tareas.</p>
<p>Vamos a verlo paso a paso.</p>
<p>Empezamos por mezclar la rama de forma local con <code>master</code>, antes de
hacer el <em>pull request</em> en GitHub, para probar que no se ha roto nada
(todos los tests deben seguir pasando) y que los tests que hemos
añadido también funcionan correctamente (en este caso no hemos añadido
ninguno).</p>
<p>En el panel <code>Git</code>:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>$ git checkout master
Switched to branch &#39;master&#39;
Your branch is up to date with &#39;origin/master&#39;.
$ git merge acerca-de 
Updating 6767016..672c28f
Fast-forward
 app/controllers/HomeController.java | 4 ++++
 app/views/about.scala.html          | 8 ++++++++
 app/views/formLogin.scala.html      | 1 +
 build.sbt                           | 4 ++--
 conf/routes                         | 2 ++
 5 files changed, 17 insertions(+), 2 deletions(-)
 create mode 100644 app/views/about.scala.html
</pre></div>
</td></tr></table>

<p>En el panel <code>Sbt</code>:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4
5</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>[mads-todolist-dgallardo] $ test
...
[info] Passed: Total 35, Failed 0, Errors 0, Passed 35
[success] Total time: 71 s, completed Sep 6, 2018 10:04:55 AM
[mads-todolist-dgallardo] $ 
</pre></div>
</td></tr></table>

<p>Una vez que hemos comprobado que todo funciona bien, deshacemos el
merge que acabamos de realizar en la rama <code>master</code>, ya que
actualizaremos después la rama con el resultado del <em>pull request</em> en
GitHub:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4
5</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>$ git reset --hard origin/master
HEAD is now at 6767016 Commit inicial
$ git checkout acerca-de 
Switched to branch &#39;acerca-de&#39;
Your branch is up to date with &#39;origin/acerca-de&#39;.
</pre></div>
</td></tr></table>

<p>Ya podemos crear el <em>pull request</em> en GitHub. </p>
<p>Accede a la rama y comprueba que están todos los cambios pulsando
<code>Compare</code>. Pulsa después el botón <code>New pull request</code> para crear el
<em>pull request</em>.</p>
<p><img src="https://raw.githubusercontent.com/domingogallardo/apuntes-mads/master/practicas/01-introduccion-play/imagenes/rama-acerca-de.png" width="700px"/></p>
<p>Introduce el nombre del <em>pull request</em>, el comentario, el <em>milestone</em>
y la etiqueta. Copia los datos del <em>issue</em>, y en el comentario escribe</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>Closes #1
</pre></div>
</td></tr></table>

<p>De esta forma, cuando se cierre el <em>pull request</em> se cerrará
automáticamente el <em>issue</em>. El número <code>#1</code> lo convierte GitHub en un
enlace al <em>issue</em> correspondiente. De esta forma podemos examinar el
<em>issue</em> resuelto por el PR.</p>
<p><img src="https://raw.githubusercontent.com/domingogallardo/apuntes-mads/master/practicas/01-introduccion-play/imagenes/pull-request-practica.png" width="700px"/></p>
<p>Añade también el PR al tablero del proyecto. Se colocará
automáticamente la columna <code>In pull request</code>. Entra en el proyecto y
archiva la tarjeta con el <em>issue</em>, ya que la actividad de desarrollar
la <em>feature</em> queda representada por el <em>pull request</em>.</p>
<p>En este momento se debería hacer una revisión del código del pull
request y comprobar de forma automática que la integración con
<em>master</em> no introduce errores en los tests. Lo haremos en siguientes
prácticas.</p>
<p>GitHub informa de que no hay conflictos con la rama <code>master</code> y que es
posible hacer el merge. Pulsa el botón de <code>Merge</code> y confírmalo. Borra
la rama en GitHub, pulsando el botón correspondiente.</p>
<p><img src="https://raw.githubusercontent.com/domingogallardo/apuntes-mads/master/practicas/01-introduccion-play/imagenes/merge-pull-request-1.png" width="500px"/></p>
<p>Por último, este <em>merge</em> lo has hecho en GitHub, debes integrarlo en tu
repositorio local. En la pestaña de Git:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>$ git checkout master
$ git fetch
remote: Counting objects: 1, done.
remote: Total 1 (delta 0), reused 0 (delta 0), pack-reused 0
Unpacking objects: 100% (1/1), done.
From https://github.com/mads-ua-18/todolist-2018-domingogallardo2
   6767016..9527ae2  master     -&gt; origin/master
$ git pull
Updating 6767016..9527ae2
Fast-forward
 app/controllers/HomeController.java | 4 ++++
 app/views/about.scala.html          | 8 ++++++++
 app/views/formLogin.scala.html      | 1 +
 build.sbt                           | 4 ++--
 conf/routes                         | 2 ++
 5 files changed, 17 insertions(+), 2 deletions(-)
 create mode 100644 app/views/about.scala.html
$ git branch -d acerca-de 
Deleted branch acerca-de (was 672c28f).
$ git remote prune origin
Pruning origin
URL: https://github.com/mads-ua-18/todolist-2018-domingogallardo2.git
 * [pruned] origin/acerca-de
$ git log --oneline --graph --all
*   9527ae2 (HEAD -&gt; master, origin/master, origin/HEAD) Merge pull request #2 from mads-ua-18/acerca-de
|\  
| * 672c28f Añadido enlace a página &#39;about&#39; en página &#39;login&#39;
| * 3fdfb83 Añadida ruta, vista y controller &#39;about&#39;
| * a332017 Cambiado el nombre del proyecto y empezamos versión 1.0.0
|/  
* 6767016 Commit inicial
</pre></div>
</td></tr></table>

<p>Comprobamos también la historia de <em>commits</em> en GitHub. Aparecerá el
<em>commit</em> de <em>merge</em> introducido por el <em>pull request</em>.</p>
<p><img src="https://raw.githubusercontent.com/domingogallardo/apuntes-mads/master/practicas/01-introduccion-play/imagenes/historia-commits-practica1.png" width="800px"/></p>
<p>De esta forma hemos cerrado el PR e integrado su código en la rama
principal de desarrollo. En el tablero de proyecto debe haber cambiado
la tarjeta con el PR a la columna <code>Done</code>.</p>
<h4>4.1.6. Versión 1.0.0</h4>
<p>Por último creamos el <em>release</em> 1.0.0. Haremos un commit directamente
sobre la rama <code>master</code> (más adelante explicaremos una forma más
elaborada de hacer un <em>release</em>, cuando expliquemos el flujo de
trabajo de GitFlow).</p>
<p>Crea un commit con la confirmación del número de versión y fecha en
los ficheros <code>build.sbt</code> y <code>about.scala.html</code></p>
<p><strong>Fichero <code>build.sbt</code></strong>:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4
5
6</pre></div></td><td class="code"><div class="codehilite"><pre><span></span> name := &quot;&quot;&quot;mads-todolist-dgallardo&quot;&quot;&quot;

<span class="gd">-version := &quot;1.0.0-SNAPSHOT&quot;</span>
<span class="gi">+version := &quot;1.0.0&quot;</span>

 lazy val root = (project in file(&quot;.&quot;)).enablePlugins(PlayJava)
</pre></div>
</td></tr></table>

<p><strong>Fichero <code>app/views/about.scala.html</code></strong>:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>    &lt;h1&gt;ToDo List&lt;/h1&gt;
        &lt;ul&gt;
            &lt;li&gt;Desarrollada por Domingo Gallardo&lt;/li&gt;
<span class="gd">-           &lt;li&gt;Versión 1.0.0 (en desarrollo)&lt;/li&gt;</span>
<span class="gd">-           &lt;li&gt;Fecha de release: pendiente de release&lt;/li&gt;</span>
<span class="gi">+           &lt;li&gt;Versión 1.0.0&lt;/li&gt;</span>
<span class="gi">+           &lt;li&gt;Fecha de release: 6/9/2018&lt;/li&gt;</span>
        &lt;/ul&gt;
}
</pre></div>
</td></tr></table>

<p>Añadimos el commit y lo subimos a GitHub</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4
5</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>$ git add .
$ git commit -m &quot;Cambio de versión a 1.0.0&quot;
[master 61d4ac8] Cambio de versión a 1.0.0
 2 files changed, 3 insertions(+), 3 deletions(-)
$ git push
</pre></div>
</td></tr></table>

<p>Y, por último, creamos la versión 1.0.0 en GitHub pulsando en el
enlace <code>release</code> en la página principal (pestaña <code>Code</code>).</p>
<p><img src="https://raw.githubusercontent.com/domingogallardo/apuntes-mads/master/practicas/01-introduccion-play/imagenes/release-practica1.png" width="700px"/></p>
<p>Un <em>release</em> en GitHub se guarda como una una etiqueta Git, junto con
información asociada. Se suelen indicar las nuevas <em>features</em> añadidas
en el <em>release</em> mediante enlaces a los <em>pull requests</em>
añadidos. También añadiremos enlaces a la página de la Wiki en la que
se describe la característica.</p>
<p><img src="https://raw.githubusercontent.com/domingogallardo/apuntes-mads/master/practicas/01-introduccion-play/imagenes/primer-release-practica1.png" width="700px"/></p>
<p>El resultado será:</p>
<p><img src="https://raw.githubusercontent.com/domingogallardo/apuntes-mads/master/practicas/01-introduccion-play/imagenes/release-practica1-terminado.png" width="400px"/></p>
<h3 id="42-version-110">4.2. Versión 1.1.0<a class="headerlink" href="#42-version-110" title="Permanent link">&para;</a></h3>
<p>El resto de la práctica consistirá en desarrollar la versión 1.1.0,
usando la misma metodología vista anteriormente.</p>
<p>Deberás desarrollar tres características nuevas obligatorias y 2 opcionales:</p>
<ul>
<li>Barra de menú, obligatoria.</li>
<li>Página de equipos de un usuario, obligatoria.</li>
<li>Página de descripción de un equipo con el listado de usuarios que
  participan en él, obligatoria.</li>
<li>(Opcional) Usuario administrador que gestiona los equipos</li>
</ul>
<p>Deberás implementar cada característica siguiendo la metodología que
hemos usado anteriormente. En la implementación, deberás añadir el
código necesario en cada una de las capas de la aplicación:</p>
<ul>
<li>Capa de presentación (vista)</li>
<li>Nuevo método en la capa de controller</li>
<li>Métodos necesarios en la capa de servicio y de repository</li>
</ul>
<p>En cada característica deberás también incluir <strong>tests</strong> que prueben los
nuevos métodos añadidos en la capa de servicio.</p>
<h4>Barra de menú</h4>
<p>La aplicación deberá tener una barra de menú común a todas sus
páginas, menos en las páginas de login y registro.</p>
<ul>
<li>La barra de menú estará situada en la parte superior de la página y
será un <a href="https://getbootstrap.com/docs/4.0/components/navbar/">Navbar</a>.
de Bootstrap.</li>
<li>La barra de menú tendrá como mínimo los siguientes elementos (de
izquierda a derecha):</li>
<li><code>ToDoList</code>: enlace a la página <em>acerca de</em>.</li>
<li><code>Tareas</code>: enlace a la página de tareas, con la lista de tareas
  pendientes del usuario.</li>
<li><code>Equipos</code>: enlace a la página de equipos, con el listado de equipos al
  que pertenece el usuario.</li>
<li><em>Nombre usuario</em>: A la derecha de la página. Desplegable con las opciones:<ul>
<li><code>Cuenta</code>: Futura página para gestionar la cuenta</li>
<li><code>Cerrar sesión &lt;nombre usuario&gt;</code>: cierra la sesión y lleva a la
 página de login.</li>
</ul>
</li>
</ul>
<h4>Equipos de un usuario</h4>
<p>Cuando el usuario pinche en la opción <code>Equipos</code> del menú irá a una
página con un listado del equipo a los que pertenece.</p>
<ul>
<li>El listado de equipos será una tabla similar al listado de tareas,
pero sin acciones.</li>
<li>La ruta para obtener el listado de los equipos de un usuario será
<code>/usuarios/:id/equipos</code>. Al igual que el listado de tareas, la ruta
estará protegida para que sólo pueda acceder un usuario logeado y
siendo el usuario logeado el mismo que el <code>id</code>.</li>
</ul>
<h4>Descripción de equipo</h4>
<p>En la lista de equipos de un usuario los equipos tendrán un enlace para
acceder a su descripción.</p>
<ul>
<li>En la descripción de un equipo aparecerá: su nombre y el listado de
  personas del equipo.</li>
<li>La ruta para obtener la descripción de un equipo será
<code>/equipos/:id</code>. La ruta estará protegida para que sólo pueda acceder
un usuario logeado.</li>
</ul>
<h4>Usuario administrador (opcional)</h4>
<p>Al realizar el registro será posible darse de alta como usuario
administrador.</p>
<ul>
<li>Para darse de alta como administrador se deberá activar un <em>check
  box</em> en la página de registro.</li>
<li>Sólo puede haber un administrador. Si ya existe un administrador, no
  debe aparecer el <em>check box</em> en la página de registro.</li>
<li>El usuario administrador tendrá una barra de menú en la que se
  añadirá la opción vacía <code>Administración</code> (que iremos cambiando
  conforme añadamos funcionalidades a realizar por el administrador).</li>
</ul>
<h4>Gestión equipos por usuario administrador (opcional)</h4>
<p>El usuario administrador podrá gestionar los equipos: añadir y editar
equipos (la opción de borrar la dejamos para más adelante).</p>
<ul>
<li>El administrador tendrá una opción adicional del menú llamada
  <code>Administración</code> de la que se desplegarán la opción <code>Equipos</code>.</li>
<li>En la administración de equipos se entrará en una página donde se
  mostrará un listado de todos los equipos existentes (como el listado
  de tareas) y se dará la opción de añadir y editar.</li>
<li>En la página de edición de un equipo se podrá modificar su nombre y
  aparecerá una tabla con todos los usuarios. Se podrá eliminar
  usuarios del equipo o añadir nuevos usuarios al mismo. </li>
<li>Los usuarios a añadir se escogerán de un desplegable en el que se
  mostrarán todos los usuarios no pertenecientes al equipo que se está
  modificando.</li>
</ul>
<h2 id="5-entrega-y-evaluacion">5. Entrega y evaluación<a class="headerlink" href="#5-entrega-y-evaluacion" title="Permanent link">&para;</a></h2>
<ul>
<li>La práctica tiene una duración de 4 semanas y debe estar terminada
  el martes 9 de octubre.</li>
<li>La parte obligatoria puntúa sobre 7 y la opcional sobre 3 puntos.</li>
<li>La calificación de la práctica tiene un peso de un 12% en la nota
  final de la asignatura.</li>
<li>Para realizar la entrega se debe subir a Moodle un ZIP que contenga
  todo el proyecto, incluyendo el directorio <code>.git</code> que contiene la
  historia Git. Para ello comprime tu directorio local del proyecto
  <strong>después de haber hecho un <code>clean</code> en <code>sbt</code></strong> para eliminar el
  directorio <code>target</code> que contiene los binarios compilados. Debes
  dejar también en Moodle la URL del repositorio en GitHub.</li>
</ul>
<p>Para la evaluación se tendrá en cuenta:</p>
<ul>
<li>Desarrollo continuo (los <em>commits</em> deben realizarse a lo largo de
  las 4 semanas y no dejar todo para la última semana).</li>
<li>Correcto desarrollo de la metodología.</li>
<li>Diseño e implementación del código y de los tests de las
  características desarrolladas.</li>
</ul>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/application.dc02f8ce.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:".."}})</script>
      
    
  </body>
</html>